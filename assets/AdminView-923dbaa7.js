import{_ as f,R as k,J as V,r as u,o as c,c as l,e as a,g as t,f as e,w as r,H as g,F as R}from"./index-d49a2ec1.js";import{S as p}from"./sweetalert2.all-d4907817.js";const{VITE_URL:d}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"lina-vueapi",BASE_URL:"/Vue2022_week6/",MODE:"production",DEV:!1,PROD:!0},T={components:{RouterView:k,RouterLink:V},data(){return{isLogin:!1}},methods:{checkToken(){const o=`${d}api/user/check`;this.$http.post(o).then(()=>{this.isLogin=!0}).catch(()=>{this.$router.push("/login")})},logout(){const o=`${d}logout`;this.$http.post(o).then(()=>{p.fire({toast:!0,title:"您已登出",icon:"success",timer:2e3,showConfirmButton:!1}),document.cookie="PToken=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT",this.$router.push("/login")}).catch(s=>{p.fire({title:s.response.data.message,icon:"error"})})}},mounted(){this.checkToken()}},w={key:0};function L(o,s,E,x,h,i){const n=u("RouterLink"),m=u("RouterView");return c(),l(R,null,[a("header",null,[a("nav",null,[t(" 後臺管理平台 "),e(n,{to:"/"},{default:r(()=>[t("回前台首頁")]),_:1}),t(" | "),e(n,{to:"/admin/products"},{default:r(()=>[t("商品管理")]),_:1}),t(" | "),e(n,{to:"/admin/orders"},{default:r(()=>[t("訂單管理")]),_:1}),t(" | "),e(n,{to:"/admin/coupon"},{default:r(()=>[t("優惠券管理")]),_:1}),a("button",{type:"button",class:"btn btn-outline-primary-dark ms-3",onClick:s[0]||(s[0]=(..._)=>i.logout&&i.logout(..._))}," 登出 ")])]),h.isLogin?(c(),l("div",w,[e(m)])):g("",!0)],64)}const B=f(T,[["render",L]]);export{B as default};
