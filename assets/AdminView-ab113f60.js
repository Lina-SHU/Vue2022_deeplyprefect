import{_ as f,a as k,R as V,r as u,o as c,c as l,b as a,e as t,d as e,w as r,H as g,F as R}from"./index-ecfc8148.js";import{S as d}from"./sweetalert2.all-e7620bac.js";const{VITE_URL:p}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"lina-vueapi",BASE_URL:"/Vue2022_week6/",MODE:"production",DEV:!1,PROD:!0},L={components:{RouterView:k,RouterLink:V},data(){return{isLogin:!1}},methods:{checkToken(){const o=`${p}api/user/check`;this.$http.post(o).then(()=>{this.isLogin=!0}).catch(()=>{this.$router.push("/login")})},logout(){const o=`${p}logout`;this.$http.post(o).then(()=>{d.fire({toast:!0,title:"您已登出",icon:"success",timer:2e3,showConfirmButton:!1}),this.$router.push("/login")}).catch(s=>{d.fire({title:s.response.data.message,icon:"error"})})}},mounted(){this.checkToken()}},w={key:0};function E(o,s,T,$,m,i){const n=u("RouterLink"),h=u("RouterView");return c(),l(R,null,[a("header",null,[a("nav",null,[t(" 後臺管理平台 "),e(n,{to:"/"},{default:r(()=>[t("home")]),_:1}),t(" | "),e(n,{to:"/admin/products"},{default:r(()=>[t("products admin")]),_:1}),t(" | "),e(n,{to:"/admin/orders"},{default:r(()=>[t("orders admin")]),_:1}),t(" | "),e(n,{to:"/admin/coupon"},{default:r(()=>[t("coupon admin")]),_:1}),a("button",{type:"button",class:"btn btn-primary ms-3",onClick:s[0]||(s[0]=(..._)=>i.logout&&i.logout(..._))}," Logout ")])]),m.isLogin?(c(),l("div",w,[e(h)])):g("",!0)],64)}const b=f(L,[["render",E]]);export{b as default};
