import{O as b}from"./order-service-49e91c65.js";import{p as g}from"./product-service-ad7f7219.js";import{_ as V,L as S,m as f,d as C,r as u,o as v,c as _,e,F as k,i as L,f as l,w as F,a as I,G as r,t as P,j,I as B,g as d}from"./index-339a7228.js";import{C as N}from"./CartStore-060a1b08.js";import{L as y}from"./LoadingStore-4663d58f.js";import"./sweetalert2.all-bc40a8a5.js";const A={components:{Loading:S},data(){return{user:{},message:"",trials:[]}},methods:{...f(N,["getCart","addToCart","deleteAllItems"]),...f(y,["toggleLoading"]),async getTrial(){const a=await g.getProduct("-NPr0DGfmGC2-OvbmvL_");this.trials.push(a.product);const s=await g.getProduct("-NPr0srldDbrv_E_44ml");this.trials.push(s.product);const n=await g.getProduct("-NPrQX1CCPfvFKMpWv_O");this.trials.push(n.product)},isPhone(a){return/^(09)[0-9]{8}$/.test(a)?!0:"請輸入 09 開頭的 10 位電話號碼"},async onSubmit(a,{resetForm:s}){const n={user:{...this.user},message:this.message};await this.deleteAllItems(),await this.addToCart("-NQjv0kHAdgP4A0b1Hag"),this.toggleLoading();const p=await b.orderSubmit(n);await b.payOrder(p.order.orderId),this.toggleLoading(),s(),this.message="",this.getCart(),this.$router.push(`/orderConfirm/${p.order.orderId}`)}},computed:{...C(y,["isLoading","isDisabled"])},mounted(){this.getTrial()}},E={class:"bg-homeSection position-relative"},T={class:"bg-prds bg-white"},D=e("div",{class:"bg-prdBanner position-relative",style:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/lina-vueapi/1678512915804.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=pnckhrydpMiGCh9s0c1zurOQyVc065g7p780s6vn9KzxeQexCupYBlHVAI12AhvG2jmwAwncUB6iB01ll%2BePDiFSheSvgDagP061T6iIIeexufhBtIu3vG5qwvLN9xnyE1S%2BU7dOtjYDtKSOWuYUCuj9LkMj2lOQkgplcWCsXNj2Qj0m%2Fq6JKIXN4FTqB5j8k8zNlnW2csjYqKatTzGvFenwZdSiPwffe%2FXj9B9YF7A3PE4D%2BH2M8x0IELnhmn8bF5bCY7x69pEaF5i8nmMbFqdv%2BVoEcI0FxoPIIf5n0AQOQd4u0IpWb6S%2BAveEC9tKUeW4dGNOqkEqWPSisa4mYg%3D%3D')"}},[e("div",{class:"banner-cta bg-white-opacity position-absolute"},[e("div",{class:"d-inline-block"},[e("h2",{class:"font-banner text-primary-dark"},"立即體驗")])])],-1),M={class:"container py-3 py-lg-5 py-lg-8"},O={class:"row justify-content-center mb-3 mb-lg-5"},U={class:"col-lg-10"},q={class:"list-unstyled"},G={class:"col-lg-4 text-center"},z={class:"ratio ratio-1x1"},Q=["src","alt"],W={class:"col-lg-6 d-flex align-items-center"},Y={class:"p-45 px-lg-4 py-lg-0 h-100 d-flex align-items-center position-relative"},H={class:"position-relative bg-white-opacity z-index-3 p-3"},K={class:"h4 fw-normal mb-2"},X=["innerHTML"],J={class:"row justify-content-center"},R={class:"col-lg-6"},Z=I('<div class="card rounded-0 border-0 mb-5"><div class="card-header rounded-0 fs-4 bg-primary text-center fw-normal py-2 py-lg-3"> 試用包內容物 </div><div class="card-body"><ul class="mb-0"><li>淡斑亮白精華 3m * 1瓶</li><li>深層保濕精華 3m * 1瓶</li><li>抗皺撫紋精華 3m * 1瓶</li></ul></div></div><div class="card rounded-0 border-0 mb-5"><div class="card-header rounded-0 text-center fs-4 bg-primary fw-normal py-2 py-lg-3"> 申請試用包說明 </div><div class="card-body"><ul class="mb-0"><li>酌收物流費 99 元。</li><li>申請後 3 日內送達。</li><li>每人限申請一組試用包。</li></ul></div></div>',2),$=e("h2",{class:"text-center fs-4 fw-normal border border-primary bg-primary py-2 py-lg-3 mb-4"}," 申請試用包資料填寫 ",-1),ee={class:"mb-3"},se=e("div",{class:"text-end"},[e("span",{class:"text-danger"},"*"),d("為必填 ")],-1),te=e("label",{for:"email"},[d(" 姓名"),e("span",{class:"text-danger"},"*")],-1),oe={class:"mb-3"},ie=e("label",{for:"email"},[d(" Email"),e("span",{class:"text-danger"},"*")],-1),le={class:"mb-3"},ae=e("label",{for:"email"},[d(" 電話"),e("span",{class:"text-danger"},"*")],-1),re={class:"mb-3"},de=e("label",{for:"address"},[d(" 地址"),e("span",{class:"text-danger"},"*")],-1),ne={class:"mb-3"},ce=e("label",{for:"message",class:"form-label"},"留言",-1),me=e("button",{type:"submit",class:"btn btn-primary-dark w-100"}," 馬上體驗！ ",-1);function ue(a,s,n,p,i,h){const c=u("VField"),m=u("error-message"),w=u("VForm"),x=u("loading");return v(),_("main",null,[e("section",E,[e("div",T,[D,e("div",M,[e("div",O,[e("div",U,[e("ul",q,[(v(!0),_(k,null,L(i.trials,(o,t)=>(v(),_("li",{class:r(["row mb-4 gx-0",{"flex-lg-row-reverse":t%2===0}]),key:o},[e("div",G,[e("div",z,[e("img",{class:"img-fluid w-100 object-cover",src:o.imageUrl,alt:o.title},null,8,Q)])]),e("div",W,[e("div",Y,[e("div",{class:r(["bg-secondary position-absolute overflow-hidden",{"shadowLeft-trial":t%2===0,"shadowRight-trial":t%2!==0}])},null,2),e("div",H,[e("h2",K,P(o.title),1),e("p",{class:"mb-3",innerHTML:o.content},null,8,X)])])])],2))),128))])])]),e("div",J,[e("div",R,[Z,e("div",null,[$,l(w,{onSubmit:h.onSubmit},{default:F(({errors:o})=>[e("div",ee,[se,te,l(c,{id:"name",name:"姓名",type:"text",class:r(["form-control",{"is-invalid":o.姓名}]),placeholder:"請輸入姓名",rules:"required",modelValue:i.user.name,"onUpdate:modelValue":s[0]||(s[0]=t=>i.user.name=t),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),l(m,{name:"姓名",class:"invalid-feedback"})]),e("div",oe,[ie,l(c,{id:"email",name:"email",type:"email",class:r(["form-control",{"is-invalid":o.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:i.user.email,"onUpdate:modelValue":s[1]||(s[1]=t=>i.user.email=t)},null,8,["class","modelValue"]),l(m,{name:"email",class:"invalid-feedback"})]),e("div",le,[ae,l(c,{id:"tel",name:"電話",type:"tel",class:r(["form-control",{"is-invalid":o.電話}]),placeholder:"請輸入電話",rules:h.isPhone,modelValue:i.user.tel,"onUpdate:modelValue":s[2]||(s[2]=t=>i.user.tel=t),modelModifiers:{trim:!0}},null,8,["class","rules","modelValue"]),l(m,{name:"電話",class:"invalid-feedback"})]),e("div",re,[de,l(c,{id:"address",name:"地址",type:"text",class:r(["form-control",{"is-invalid":o.地址}]),placeholder:"請輸入地址",rules:"required",modelValue:i.user.address,"onUpdate:modelValue":s[3]||(s[3]=t=>i.user.address=t),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),l(m,{name:"地址",class:"invalid-feedback"})]),e("div",ne,[ce,j(e("textarea",{id:"message",class:"form-control",cols:"30",rows:"5","onUpdate:modelValue":s[4]||(s[4]=t=>i.message=t)},null,512),[[B,i.message]])]),me]),_:1},8,["onSubmit"])])])])])]),l(x,{active:a.isLoading,"onUpdate:active":s[5]||(s[5]=o=>a.isLoading=o)},null,8,["active"])])])}const fe=V(A,[["render",ue]]);export{fe as default};
