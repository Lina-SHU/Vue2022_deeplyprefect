import{o as m}from"./order-service-6ecbc187.js";import{S as h}from"./sweetalert2.all-9d19fef7.js";import{_ as v,L as k,m as L,d as w,r as g,o as n,c as l,e as t,F as B,i as F,t as e,f as y,g as c,a as S,w as j}from"./index-3125bab5.js";import{L as b}from"./LoadingStore-93f5495c.js";const O={components:{Loading:k},data(){return{order:{},orderId:""}},methods:{...L(b,["toggleLoading"]),getOrder(){this.toggleLoading(),this.id=this.$route.params.id,m.getOrder(this.id).then(o=>{this.toggleLoading(),o.isSuccess?this.order=o.order.order:h.fire({title:o.msg,icon:"error"})})},payOrder(){this.toggleLoading(),m.payOrder(this.id).then(o=>{this.toggleLoading(),o.isSuccess?this.$router.push(`/orderCompleted/${this.id}`):h.fire({title:o.msg,icon:"error"})})}},computed:{...w(b,["isLoading"])},mounted(){this.getOrder()}},W={class:"bg-homeSection"},C={class:"bg-prds bg-white"},N=t("div",{class:"bg-prdBanner position-relative",style:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/lina-vueapi/1677852996621.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=WNOBLbEn%2B4HFspBIWLRXuJ6pxbN%2B3ijsN7Tn3ac5rK9j1iMrd21A0VrstKPZhlGdWGjscnrSJTlqJPkCJ%2FCDWL87%2BjBecMHbEgfZzvhI0OoTnz3m5pQB6kWWacJC0C03Fby%2FtZDOvZGyg4rnsWPW0hQzRTPE5COpDG8HIqaFufRUaVHS5bEBvXuEfGYNAzN3W6tphbsBTuFwFgCVwNDmKvJ9TP%2FM9XVRZSflFto45njpC8Zi4r%2B2pZuUyZyncbDcmy5XqKmbRbc72DJnB881%2FMj2G9KLeWPDih%2BEUiOJXmXfkpSFsTWPEQYWPX%2F5JtmaIZ9HW2Nx32ls%2FmlpZksqlQ%3D%3D')"}},[t("div",{class:"banner-cta bg-white-opacity position-absolute"},[t("div",{class:"d-inline-block"},[t("h2",{class:"font-banner text-primary-dark"},[c(" 立即訂購"),t("br"),c("重啟年輕煥光肌 ")])])])],-1),D={class:"container bg-white py-5"},E=S('<div class="row justify-content-center"><div class="col-lg-8"><ul class="cartlist list-unstyled d-flex justify-content-between mx-auto w-75 mb-7"><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark fs-5 bg-primary mb-0"> 1 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark fs-5 bg-primary mb-0"> 2 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-white fs-5 bg-primary-dark mb-0"> 3 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark fs-5 bg-primary mb-0"> 4 </li></ul></div></div>',1),Z={class:"row gx-"},J={class:"col-lg-6"},P={class:"table"},T=t("thead",{class:"text-center"},[t("tr",null,[t("th",null,"品名"),t("th",null,"單價"),t("th",null,"數量/單位"),t("th",null,"小計")])],-1),V={class:"align-middle"},G={class:"d-flex align-items-center"},X={class:"ratio ratio-1x1 w-50 me-2"},z=["src","alt"],I={class:"text-end"},q={class:"text-center"},H={class:"text-end"},K={class:"d-flex justify-content-between px-2"},R=t("p",null,"總計：",-1),U={class:"col-lg-6"},A={class:"table"},M=t("th",{class:"px-3 py-3"},"下單日期",-1),Q={class:"px-3 py-3"},Y=t("th",{class:"px-3 py-3"},"訂單編號",-1),$={class:"px-3 py-3"},tt=t("th",{class:"px-3 py-3"},"收件人姓名",-1),st={class:"px-3 py-3"},et=t("th",{class:"px-3 py-3"},"連絡電話",-1),ot={class:"px-3 py-3"},it=t("th",{class:"px-3 py-3"},"Email",-1),rt={class:"px-3 py-3"},nt=t("th",{class:"px-3 py-3"},"聯絡地址",-1),lt={class:"px-3 py-3"},ct=t("th",{class:"px-3 py-3"},"是否付款",-1),at={class:"px-3 py-3"};function dt(o,r,pt,ut,i,a){var d,p,u,_;const f=g("router-link"),x=g("loading");return n(),l("main",W,[t("section",C,[N,t("div",D,[E,t("div",Z,[t("div",J,[t("table",P,[T,t("tbody",V,[(n(!0),l(B,null,F(i.order.products,s=>(n(),l("tr",{key:s},[t("td",G,[t("div",X,[t("img",{src:s.product.imageUrl,alt:s.name,class:"img-fluid"},null,8,z)]),y(f,{to:`/product/${s.product.id}`},{default:j(()=>[c(e(s.product.title),1)]),_:2},1032,["to"])]),t("td",I,e(s.product.price),1),t("td",q,e(s.qty)+" "+e(s.product.unit),1),t("td",H,e(s.final_total),1)]))),128))])]),t("div",K,[R,t("p",null,e(i.order.total),1)])]),t("div",U,[t("table",A,[t("tbody",null,[t("tr",null,[M,t("td",Q,e(i.order.create_at),1)]),t("tr",null,[Y,t("td",$,e(i.order.id),1)]),t("tr",null,[tt,t("td",st,e((d=i.order.user)==null?void 0:d.name),1)]),t("tr",null,[et,t("td",ot,e((p=i.order.user)==null?void 0:p.tel),1)]),t("tr",null,[it,t("td",rt,e((u=i.order.user)==null?void 0:u.email),1)]),t("tr",null,[nt,t("td",lt,e((_=i.order.user)==null?void 0:_.address),1)]),t("tr",null,[ct,t("td",at,e(i.order.is_paid?"已付款":"尚未付款"),1)])])]),t("button",{type:"button",onClick:r[0]||(r[0]=(...s)=>a.payOrder&&a.payOrder(...s)),class:"btn btn-lg btn-primary d-block w-100"}," 確認結帳 ")])])]),y(x,{active:o.isLoading,"onUpdate:active":r[1]||(r[1]=s=>o.isLoading=s)},null,8,["active"])])])}const yt=v(O,[["render",dt]]);export{yt as default};
