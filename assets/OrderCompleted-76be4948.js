import{O as g}from"./order-service-7ed86dde.js";import{S as b}from"./sweetalert2.all-88e394a7.js";import{_ as v,L as k,m as w,d as L,r as y,o as i,c,e as t,F as B,i as S,t as e,f as n,w as d,g as l,a as F}from"./index-b2a44858.js";import{L as x}from"./LoadingStore-dba970ce.js";const j={components:{Loading:k},data(){return{order:{},orderId:""}},methods:{...w(x,["toggleLoading"]),getOrder(){this.toggleLoading(),this.id=this.$route.params.id,g.getOrder(this.id).then(s=>{this.toggleLoading(),s.isSuccess?this.order=s.order.order:b.fire({title:s.msg,icon:"error"})})},payOrder(){this.toggleLoading(),g.payOrder(this.id).then(s=>{this.toggleLoading(),s.isSuccess?this.$router.push(`/orderCompleted/${this.id}`):b.fire({title:s.msg,icon:"error"})})}},computed:{...L(x,["isLoading"])},mounted(){this.getOrder()}},O={class:"bg-homeSection"},W={class:"bg-prds bg-white"},D=t("div",{class:"bg-prdBanner position-relative",style:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/lina-vueapi/1677852996621.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=WNOBLbEn%2B4HFspBIWLRXuJ6pxbN%2B3ijsN7Tn3ac5rK9j1iMrd21A0VrstKPZhlGdWGjscnrSJTlqJPkCJ%2FCDWL87%2BjBecMHbEgfZzvhI0OoTnz3m5pQB6kWWacJC0C03Fby%2FtZDOvZGyg4rnsWPW0hQzRTPE5COpDG8HIqaFufRUaVHS5bEBvXuEfGYNAzN3W6tphbsBTuFwFgCVwNDmKvJ9TP%2FM9XVRZSflFto45njpC8Zi4r%2B2pZuUyZyncbDcmy5XqKmbRbc72DJnB881%2FMj2G9KLeWPDih%2BEUiOJXmXfkpSFsTWPEQYWPX%2F5JtmaIZ9HW2Nx32ls%2FmlpZksqlQ%3D%3D')"}},[t("div",{class:"banner-cta bg-white-opacity position-absolute"},[t("div",{class:"d-inline-block"},[t("h2",{class:"font-banner text-primary-dark"},[l(" 訂購完成"),t("br"),l("重啟年輕煥光肌 ")])])])],-1),C={class:"container bg-white py-5 py-lg-7"},N=F('<div class="row justify-content-center"><div class="col-lg-8"><ul class="cartlist list-unstyled d-flex justify-content-between mx-auto w-75 mb-5 mb-lg-7"><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark bg-primary mb-0"> 1 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark bg-primary mb-0"> 2 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark bg-primary mb-0"> 3 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-white bg-primary-dark mb-0"> 4 </li></ul></div></div>',1),E={class:"text-center mb-5"},Z={key:0,class:"fs-5 d-inline-block py-2 px-4 px-lg-7 border border-primary-dark text-primary-dark"},J={key:1,class:"fs-5 d-inline-block py-2 px-4 px-lg-7 border border-danger text-danger"},P={class:"row gx-4 gx-lg-5"},T={class:"col-lg-6"},V={class:"table"},G=t("thead",{class:"text-center"},[t("tr",null,[t("th",null,"品名"),t("th",null,"單價"),t("th",null,"數量/單位"),t("th",null,"小計")])],-1),X={class:"align-middle"},z={class:"d-flex align-items-center"},I={class:"ratio ratio-1x1 w-50 me-2"},q=["src","alt"],H={class:"text-end"},K={class:"text-center"},R={class:"text-end"},U={class:"d-flex justify-content-between px-2"},A=t("p",null,"總計：",-1),M={class:"col-lg-6 mt-5 mt-lg-0"},Q={class:"table"},Y=t("th",{class:"px-3 py-3"},"下單日期",-1),$={class:"px-3 py-3"},tt=t("th",{class:"px-3 py-3"},"訂單編號",-1),et={class:"px-3 py-3"},st=t("th",{class:"px-3 py-3"},"收件人姓名",-1),ot={class:"px-3 py-3"},rt=t("th",{class:"px-3 py-3"},"連絡電話",-1),it={class:"px-3 py-3"},ct=t("th",{class:"px-3 py-3"},"Email",-1),lt={class:"px-3 py-3"},nt=t("th",{class:"px-3 py-3"},"聯絡地址",-1),at={class:"px-3 py-3"},dt=t("th",{class:"px-3 py-3"},"是否付款",-1),pt={class:"px-3 py-3"};function _t(s,p,ut,mt,r,ht){var _,u,m,h;const a=y("router-link"),f=y("loading");return i(),c("main",O,[t("section",W,[D,t("div",C,[N,t("div",E,[r.order.is_paid?(i(),c("p",Z," 感謝您的訂購，以下為您的訂單 ")):(i(),c("p",J," 付款失敗！請洽客服 "))]),t("div",P,[t("div",T,[t("table",V,[G,t("tbody",X,[(i(!0),c(B,null,S(r.order.products,o=>(i(),c("tr",{key:o},[t("td",z,[t("div",I,[t("img",{src:o.product.imageUrl,alt:o.name,class:"img-fluid object-cover"},null,8,q)]),n(a,{to:`/product/${o.product.id}`},{default:d(()=>[l(e(o.product.title),1)]),_:2},1032,["to"])]),t("td",H,e(s.$currency(o.product.price)),1),t("td",K,e(o.qty)+" "+e(o.product.unit),1),t("td",R,e(s.$currency(o.final_total)),1)]))),128))])]),t("div",U,[A,t("p",null,e(s.$currency(r.order.total)),1)])]),t("div",M,[t("table",Q,[t("tbody",null,[t("tr",null,[Y,t("td",$,e(new Date(r.order.create_at*1e3).toLocaleDateString()),1)]),t("tr",null,[tt,t("td",et,e(r.order.id),1)]),t("tr",null,[st,t("td",ot,e((_=r.order.user)==null?void 0:_.name),1)]),t("tr",null,[rt,t("td",it,e((u=r.order.user)==null?void 0:u.tel),1)]),t("tr",null,[ct,t("td",lt,e((m=r.order.user)==null?void 0:m.email),1)]),t("tr",null,[nt,t("td",at,e((h=r.order.user)==null?void 0:h.address),1)]),t("tr",null,[dt,t("td",pt,e(r.order.is_paid?"已付款":"尚未付款"),1)])])]),n(a,{to:"/productlist",class:"btn btn-primary-dark d-block w-100 mb-2"},{default:d(()=>[l(" 繼續逛逛 ")]),_:1}),n(a,{to:"/",class:"btn btn-outline-primary-dark d-block w-100"},{default:d(()=>[l(" 回首頁 ")]),_:1})])])]),n(f,{active:s.isLoading,"onUpdate:active":p[0]||(p[0]=o=>s.isLoading=o)},null,8,["active"])])])}const ft=v(j,[["render",_t]]);export{ft as default};
