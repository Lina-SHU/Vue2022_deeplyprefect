import{_ as g,R as v,K as f,r as l,o as r,c as d,e as t,f as e,w as n,k,F as b,g as i}from"./index-122c6dcc.js";import{S as u}from"./sweetalert2.all-63bbc384.js";const{VITE_URL:_}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"lina-vueapi",BASE_URL:"/Vue2022_deeplyprefect/",MODE:"production",DEV:!1,PROD:!0},V={components:{RouterView:v,RouterLink:f},data(){return{isLogin:!1}},methods:{checkToken(){const s=`${_}api/user/check`;this.$http.post(s).then(()=>{this.isLogin=!0}).catch(()=>{this.$router.push("/login")})},logout(){const s=`${_}logout`;this.$http.post(s).then(()=>{u.fire({toast:!0,title:"您已登出",icon:"success",timer:2e3,showConfirmButton:!1}),document.cookie="PToken=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT",this.$router.push("/login")}).catch(o=>{u.fire({title:o.response.data.message,icon:"error"})})}},mounted(){this.checkToken()}},R={class:"navbar navbar-expand-lg navbar-light bg-light"},T={class:"container-fluid"},x=t("h1",{class:"fs-5"},"後臺管理平台",-1),L=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#adminHeader","aria-controls":"adminHeader","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),w={class:"collapse navbar-collapse",id:"adminHeader"},E={class:"navbar-nav me-auto mb-2 mb-lg-0"},$={class:"nav-item"},B={class:"nav-item"},C={class:"nav-item"},y={class:"nav-item"},H={class:"nav-item"},N={key:0};function P(s,o,A,D,h,c){const a=l("RouterLink"),m=l("RouterView");return r(),d(b,null,[t("header",null,[t("nav",R,[t("div",T,[x,L,t("div",w,[t("ul",E,[t("li",$,[e(a,{class:"nav-link active",to:"/"},{default:n(()=>[i("回前台首頁")]),_:1})]),t("li",B,[e(a,{to:"/admin",class:"nav-link"},{default:n(()=>[i("商品管理")]),_:1})]),t("li",C,[e(a,{to:"/admin/orders",class:"nav-link"},{default:n(()=>[i("訂單管理")]),_:1})]),t("li",y,[e(a,{to:"/admin/coupon",class:"nav-link"},{default:n(()=>[i("優惠券管理")]),_:1})]),t("li",H,[t("button",{class:"btn btn-primary ms-2",onClick:o[0]||(o[0]=(...p)=>c.logout&&c.logout(...p))},"登出")])])])])])]),h.isLogin?(r(),d("div",N,[e(m)])):k("",!0)],64)}const U=g(V,[["render",P]]);export{U as default};
