import{O as _}from"./order-service-eb50fb44.js";import{S as g}from"./sweetalert2.all-ba9e78cd.js";import{_ as v,L as k,m as L,d as w,r as h,o as n,c as l,e as t,F as B,i as S,t as r,f as b,g as c,a as F,w as O}from"./index-45ccec52.js";import{L as y}from"./LoadingStore-1bc84e62.js";const j={components:{Loading:k},data(){return{order:{},orderId:""}},methods:{...L(y,["toggleLoading"]),getOrder(){this.toggleLoading(),this.id=this.$route.params.id,_.getOrder(this.id).then(e=>{this.toggleLoading(),e.isSuccess?this.order=e.order.order:g.fire({title:e.msg,icon:"error"})})},payOrder(){this.toggleLoading(),_.payOrder(this.id).then(e=>{this.toggleLoading(),e.isSuccess?this.$router.push(`/orderCompleted/${this.id}`):g.fire({title:e.msg,icon:"error"})})}},computed:{...w(y,["isLoading"])},mounted(){this.getOrder()}},W={class:"bg-homeSection"},C={class:"bg-prds bg-white"},D=t("div",{class:"bg-prdBanner position-relative",style:{"background-image":"url('https://storage.googleapis.com/vue-course-api.appspot.com/lina-vueapi/1677852996621.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=WNOBLbEn%2B4HFspBIWLRXuJ6pxbN%2B3ijsN7Tn3ac5rK9j1iMrd21A0VrstKPZhlGdWGjscnrSJTlqJPkCJ%2FCDWL87%2BjBecMHbEgfZzvhI0OoTnz3m5pQB6kWWacJC0C03Fby%2FtZDOvZGyg4rnsWPW0hQzRTPE5COpDG8HIqaFufRUaVHS5bEBvXuEfGYNAzN3W6tphbsBTuFwFgCVwNDmKvJ9TP%2FM9XVRZSflFto45njpC8Zi4r%2B2pZuUyZyncbDcmy5XqKmbRbc72DJnB881%2FMj2G9KLeWPDih%2BEUiOJXmXfkpSFsTWPEQYWPX%2F5JtmaIZ9HW2Nx32ls%2FmlpZksqlQ%3D%3D')"}},[t("div",{class:"banner-cta bg-white-opacity position-absolute"},[t("div",{class:"d-inline-block"},[t("h2",{class:"font-banner text-primary-dark"},[c(" 立即訂購"),t("br"),c("重啟年輕煥光肌 ")])])])],-1),N={class:"container bg-white py-5 py-lg-7"},E=F('<div class="row justify-content-center"><div class="col-lg-8"><ul class="cartlist list-unstyled d-flex justify-content-between mx-auto w-75 mb-5 mb-lg-7"><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark bg-primary mb-0"> 1 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark bg-primary mb-0"> 2 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-white bg-primary-dark mb-0"> 3 </li><li class="position-relative border-2 border-primary-dark rounded-circle circle d-flex justify-content-center align-items-center text-primary-dark bg-primary mb-0"> 4 </li></ul></div></div><div class="text-center mb-4 mb-md-5"><p class="fs-5 d-inline-block py-2 px-4 px-lg-7 border border-primary-dark text-primary-dark mb-0"> 您的訂單已成立！<br class="d-md-none">敬請進入付款程序！ </p></div>',2),Z={class:"row gx-4 gx-lg-5"},J={class:"col-lg-6"},P={class:"table"},T=t("thead",{class:"text-center"},[t("tr",null,[t("th",null,"品名"),t("th",null,"單價"),t("th",null,"數量/單位"),t("th",null,"小計")])],-1),V={class:"align-middle"},G={class:"d-flex align-items-center"},X={class:"ratio ratio-1x1 w-50 me-2"},z=["src","alt"],I={class:"text-end"},q={class:"text-center"},H={class:"text-end"},K={class:"d-flex justify-content-between px-2"},R=t("p",null,"總計：",-1),U={class:"col-lg-6 mt-5 mt-lg-0"},A={class:"table"},M=t("th",{class:"px-3 py-3"},"下單日期",-1),Q={class:"px-3 py-3"},Y=t("th",{class:"px-3 py-3"},"訂單編號",-1),$={class:"px-3 py-3"},tt=t("th",{class:"px-3 py-3"},"收件人姓名",-1),et={class:"px-3 py-3"},st=t("th",{class:"px-3 py-3"},"連絡電話",-1),rt={class:"px-3 py-3"},ot=t("th",{class:"px-3 py-3"},"Email",-1),it={class:"px-3 py-3"},nt=t("th",{class:"px-3 py-3"},"聯絡地址",-1),lt={class:"px-3 py-3"},ct=t("th",{class:"px-3 py-3"},"是否付款",-1),at={class:"px-3 py-3"};function dt(e,i,pt,mt,o,a){var d,p,m,u;const x=h("router-link"),f=h("loading");return n(),l("main",W,[t("section",C,[D,t("div",N,[E,t("div",Z,[t("div",J,[t("table",P,[T,t("tbody",V,[(n(!0),l(B,null,S(o.order.products,s=>(n(),l("tr",{key:s},[t("td",G,[t("div",X,[t("img",{src:s.product.imageUrl,alt:s.name,class:"img-fluid object-cover"},null,8,z)]),b(x,{to:`/product/${s.product.id}`},{default:O(()=>[c(r(e.$currency(s.product.title)),1)]),_:2},1032,["to"])]),t("td",I,r(e.$currency(s.product.price)),1),t("td",q,r(s.qty)+" "+r(s.product.unit),1),t("td",H,r(e.$currency(s.final_total)),1)]))),128))])]),t("div",K,[R,t("p",null,r(e.$currency(o.order.total)),1)])]),t("div",U,[t("table",A,[t("tbody",null,[t("tr",null,[M,t("td",Q,r(new Date(o.order.create_at*1e3).toLocaleDateString()),1)]),t("tr",null,[Y,t("td",$,r(o.order.id),1)]),t("tr",null,[tt,t("td",et,r((d=o.order.user)==null?void 0:d.name),1)]),t("tr",null,[st,t("td",rt,r((p=o.order.user)==null?void 0:p.tel),1)]),t("tr",null,[ot,t("td",it,r((m=o.order.user)==null?void 0:m.email),1)]),t("tr",null,[nt,t("td",lt,r((u=o.order.user)==null?void 0:u.address),1)]),t("tr",null,[ct,t("td",at,r(o.order.is_paid?"已付款":"尚未付款"),1)])])]),t("button",{type:"button",onClick:i[0]||(i[0]=(...s)=>a.payOrder&&a.payOrder(...s)),class:"btn btn-lg btn-primary d-block w-100"}," 確認結帳 ")])])]),b(f,{active:e.isLoading,"onUpdate:active":i[1]||(i[1]=s=>e.isLoading=s)},null,8,["active"])])])}const bt=v(j,[["render",dt]]);export{bt as default};
