import{k as d,l as i}from"./index-db2cca20.js";import{S as a}from"./sweetalert2.all-fc62351b.js";const r=d("LoadingtStore",{state:()=>({isLoading:!1,isDisabled:!1}),actions:{toggleLoading(){this.isLoading=!this.isLoading},toggleDisabled(){this.isDisabled=!this.isDisabled}}}),{VITE_URL:n,VITE_PATH:l}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"lina-vueapi",BASE_URL:"/Vue2022_week6/",MODE:"production",DEV:!1,PROD:!0},u=d("CartStore",{state:()=>({carts:[]}),actions:{addToCart(t,s=1){const e=r(),o={product_id:t,qty:s},c=`${n}api/${l}/cart`;e.toggleDisabled(),i.post(c,{data:o}).then(()=>{e.toggleDisabled(),this.getCart(),a.fire({toast:!0,title:"已將商品加入到購物車！",icon:"success",timer:2e3,position:"top-end",showConfirmButton:!1})}).catch(g=>{a.fire({title:g.response.data.message,icon:"error"})})},getCart(){const t=r(),s=`${n}api/${l}/cart`;t.toggleDisabled(),i.get(s).then(e=>{t.toggleDisabled(),this.carts=e.data.data}).catch(e=>{a.fire({title:e.response.data.message,icon:"error"})})},changeCartItem(t){const s=r(),e=`${n}api/${l}/cart/${t.id}`;s.toggleDisabled(),i.put(e,{data:{product_id:t.product_id,qty:t.qty}}).then(()=>{s.toggleDisabled(),this.getCart()}).catch(o=>{a.fire({title:o.response.data.message,icon:"error"})})},deleteCartItem(t){const s=r(),e=`${n}api/${l}/cart/${t}`;s.toggleDisabled(),i.delete(e).then(()=>{s.toggleDisabled(),this.getCart(),a.fire({toast:!0,title:"已刪除！",icon:"success",timer:2e3,position:"top-end",showConfirmButton:!1})}).catch(o=>{a.fire({title:o.response.data.message,icon:"error"})})}}});export{u as C,r as L};
