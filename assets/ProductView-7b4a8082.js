import{L as p,C as u,a as r}from"./CartStore-d11c8aef.js";import{S as g}from"./sweetalert2.all-e7620bac.js";import{_,m as d,f as m,r as h,o as a,c,b as t,t as n,e as v,bs as f,bh as L,F as b,g as V,h as T,d as E}from"./index-fee55fa8.js";const{VITE_URL:S,VITE_PATH:y}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"lina-vueapi",BASE_URL:"/Vue2022_week6/",MODE:"production",DEV:!1,PROD:!0},D={components:{Loading:p},data(){return{product:[],id:"",qty:1}},methods:{...d(u,["addToCart"]),...d(r,["toggleLoading"]),getProduct(){this.toggleLoading();const i=`${S}api/${y}/product/${this.id}`;this.$http.get(i).then(s=>{this.toggleLoading(),this.product=s.data.product}).catch(s=>{g.fire({title:s.response.data.message,icon:"error"})})}},computed:{...m(r,["isLoading","isDisabled"])},mounted(){this.id=this.$route.params.id,this.getProduct()}},w={class:"container"},C={class:"row"},P={class:"col-md-6"},U=["src","alt"],k={class:"col-md-6"},q={class:"fs-4"},A={class:"fs-5 text-end"},B={class:"text-danger fs-6 ms-2"},I={class:"input-group mb-3"},R=["value"],x=["disabled"];function M(i,s,N,F,o,H){const l=h("loading");return a(),c("div",w,[t("div",C,[t("div",P,[t("img",{src:o.product.imageUrl,alt:o.product.title,class:"img-fluid"},null,8,U)]),t("div",k,[t("h1",q,n(o.product.title),1),t("p",null,n(o.product.description),1),t("p",A,[v(" $ "+n(o.product.price),1),t("del",B,"$ "+n(o.product.origin_price),1)]),t("div",I,[f(t("select",{class:"form-select","onUpdate:modelValue":s[0]||(s[0]=e=>o.qty=e)},[(a(),c(b,null,V(20,e=>t("option",{value:e,key:e},n(e),9,R)),64))],512),[[L,o.qty]]),t("button",{type:"button",class:"btn btn-danger",onClick:s[1]||(s[1]=T(e=>i.addToCart(o.product.id,o.qty),["prevent"])),disabled:i.isDisabled}," 加入購物車 ",8,x)])])]),E(l,{active:i.isLoading,"onUpdate:active":s[2]||(s[2]=e=>i.isLoading=e)},null,8,["active"])])}const z=_(D,[["render",M]]);export{z as default};
