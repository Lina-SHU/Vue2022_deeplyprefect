import{_ as L,L as k,x as h,y as w,r as d,o as c,c as r,b as t,d as l,w as b,t as n,F as g,s as v,e as a,A as B,B as P,C as S,a as T}from"./index-4be9ecad.js";import{S as E}from"./sweetalert2.all-49a6074c.js";import{C as I,L as f}from"./CartStore-a47f21b4.js";import{H as V}from"./HotProduct-b8cc6b79.js";import"./product-service-8d6e982e.js";const{VITE_URL:j,VITE_PATH:C}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"lina-vueapi",BASE_URL:"/Vue2022_week6/",MODE:"production",DEV:!1,PROD:!0},D={components:{Loading:k,HotProduct:V},data(){return{product:[],id:"",qty:1}},methods:{...h(I,["addToCart"]),...h(f,["toggleLoading"]),getProduct(){this.toggleLoading(),this.id=this.$route.params.id;const i=`${j}api/${C}/product/${this.id}`;this.$http.get(i).then(e=>{this.toggleLoading(),this.product=e.data.product;const p=this.product.content.split("<br>").map(s=>`<li>${s}</li>`).join("");this.product.contentList=`<ul>${p}</ul>`;const u=this.product.description.split("<br>").map(s=>`<li>${s}</li>`).join("");this.product.descList=`<ul>${u}</ul>`}).catch(e=>{E.fire({title:e.response.data.message,icon:"error"})})}},computed:{...w(f,["isLoading","isDisabled"])},watch:{$route(i){i.fullPath.match("/product/")&&this.getProduct()}},mounted(){this.getProduct()}},A={class:"bg-homeSection position-relative"},F={class:"bg-prds bg-white"},H=T('<section class="bg-prdBanner position-relative" style="background-image:url(&#39;https://storage.googleapis.com/vue-course-api.appspot.com/lina-vueapi/1678512915804.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&amp;Expires=1742169600&amp;Signature=pnckhrydpMiGCh9s0c1zurOQyVc065g7p780s6vn9KzxeQexCupYBlHVAI12AhvG2jmwAwncUB6iB01ll%2BePDiFSheSvgDagP061T6iIIeexufhBtIu3vG5qwvLN9xnyE1S%2BU7dOtjYDtKSOWuYUCuj9LkMj2lOQkgplcWCsXNj2Qj0m%2Fq6JKIXN4FTqB5j8k8zNlnW2csjYqKatTzGvFenwZdSiPwffe%2FXj9B9YF7A3PE4D%2BH2M8x0IELnhmn8bF5bCY7x69pEaF5i8nmMbFqdv%2BVoEcI0FxoPIIf5n0AQOQd4u0IpWb6S%2BAveEC9tKUeW4dGNOqkEqWPSisa4mYg%3D%3D&#39;);"><div class="banner-cta bg-white-opacity position-absolute"><div class="d-inline-block"><h2 class="font-banner text-primary-dark">保養去</h2></div></div></section><div class="d-none d-lg-block bg-whiteBlock bg-white-opacity position-absolute end-0 bottom-0"></div>',2),M={class:"container position-relative z-index-3 py-7"},q={class:"row justify-content-center"},U={class:"col-md-8"},N={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},O={class:"breadcrumb"},z={class:"breadcrumb-item"},Y={class:"breadcrumb-item"},G={class:"breadcrumb-item"},Q={class:"row mb-5"},W={class:"col-md-6"},K={class:"ratio ratio-1x1"},R=["src","alt"],$={class:"col-md-6 mt-4 mt-lg-0"},X={class:"d-flex flex-column justify-content-between h-100"},J={class:"fs-4 text-primary-dark mb-3"},Z={class:"list-unstyled d-flex mb-4"},tt=["innerHTML"],st={class:"fs-4 text-end"},ot={class:"text-danger fs-7 me-2"},et={class:"input-group mb-3"},it=["value"],nt=["disabled"],ct=t("h3",{class:"h5 fw-normal border-bottom pb-1 text-primary-dark mb-3"}," 商品詳情 ",-1),rt=["innerHTML"],lt=t("h3",{class:"h5 fw-normal border-bottom pb-1 text-primary-dark mb-3"}," 購物須知 ",-1),dt=t("ul",{class:"mb-7"},[t("li",null," 收到商品後，若有發現包裝不完整，建議您拍照存證並與我們聯繫：客服專線：02-218-8965。 "),t("li",null," 依消費者保護法規定，商品皆享有七天鑑賞期(注意：鑑賞期不等於試用期)，須以完整包裝進行退貨處理。 "),t("li",null," 提醒您：當付款完成後，我們不會主動以電話方式聯繫您進行 ATM 操作修正款項或詢問信用卡等資料，若有接獲請撥打 165 反詐騙專線求證，以確保您的權益。 ")],-1),at=t("h3",{class:"fs-4 text-center text-primary-dark fw-normal mb-5"}," 經典暢銷款 ",-1);function pt(i,e,p,u,s,ut){var _;const m=d("router-link"),y=d("HotProduct"),x=d("loading");return c(),r("main",null,[t("section",A,[t("div",F,[H,t("div",M,[t("div",q,[t("div",U,[t("nav",N,[t("ol",O,[t("li",z,[l(m,{to:"/"},{default:b(()=>[a("DeeplyPrefect")]),_:1})]),t("li",Y,[l(m,{to:"/productlist"},{default:b(()=>[a("保養去")]),_:1})]),t("li",G,n(s.product.title),1)])]),t("div",Q,[t("div",W,[t("div",K,[t("img",{src:s.product.imageUrl,alt:s.product.title,class:"img-fluid"},null,8,R)])]),t("div",$,[t("div",X,[t("div",null,[t("h1",J,n(s.product.title),1),t("ul",Z,[(c(!0),r(g,null,v((_=s.product)==null?void 0:_.tags,o=>(c(),r("li",{key:o,class:"border rounded-pill fs-7 me-2 py-1 px-2"},n(o),1))),128))]),t("p",{innerHTML:s.product.descList},null,8,tt)]),t("div",null,[t("p",st,[t("del",ot,"$ "+n(s.product.origin_price),1),a(" $ "+n(s.product.price),1)]),t("div",et,[B(t("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=o=>s.qty=o)},[(c(),r(g,null,v(20,o=>t("option",{value:o,key:o},n(o),9,it)),64))],512),[[P,s.qty]]),t("button",{type:"button",class:"btn btn-primary-dark",onClick:e[1]||(e[1]=S(o=>i.addToCart(s.product.id,s.qty),["prevent"])),disabled:i.isDisabled}," 加入購物車 ",8,nt)])])])])]),ct,t("p",{class:"mb-5",innerHTML:s.product.contentList},null,8,rt),lt,dt,at,l(y)])]),l(x,{active:i.isLoading,"onUpdate:active":e[2]||(e[2]=o=>i.isLoading=o)},null,8,["active"])])])])])}const vt=L(D,[["render",pt]]);export{vt as default};
